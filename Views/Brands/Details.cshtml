@model ChainStoreSalesManagement.Domain.Entities.Brand
@{
    ViewData["Title"] = "Chi tiết thương hiệu";
    Layout = "~/Views/Shared/_LayoutSapo.cshtml";
}

<style>
    .page-header {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 20px;
    }
    
    .btn-back {
        background: none;
        border: 1px solid #dee2e6;
        padding: 8px 12px;
        border-radius: 4px;
        color: #6c757d;
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
    }
    
    .btn-back:hover {
        background: #f8f9fa;
        color: #6c757d;
        text-decoration: none;
    }
    
    .page-title {
        font-size: 24px;
        font-weight: 600;
        color: #333;
        margin: 0;
    }
    
    .content-container {
        display: flex;
        gap: 20px;
    }
    
    .content-main {
        flex: 1;
    }
    
    .content-sidebar {
        width: 320px;
    }
    
    .info-card {
        background: white;
        border-radius: 8px;
        padding: 20px;
        border: 1px solid #e9ecef;
        margin-bottom: 20px;
    }
    
    .card-header {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 20px;
        color: #333;
        padding-bottom: 10px;
        border-bottom: 1px solid #e9ecef;
    }
    
    .info-row {
        display: flex;
        margin-bottom: 15px;
        align-items: flex-start;
    }
    
    .info-label {
        font-weight: 500;
        color: #6c757d;
        width: 120px;
        flex-shrink: 0;
        font-size: 14px;
    }
    
    .info-value {
        color: #333;
        flex: 1;
        font-size: 14px;
    }
    
    .brand-name {
        font-size: 20px;
        font-weight: 600;
        color: #333;
        margin: 0;
    }
    
    .shop-name {
        color: #6c757d;
        font-size: 14px;
    }
    
    .product-count {
        background: #e9ecef;
        color: #495057;
        padding: 6px 12px;
        border-radius: 16px;
        font-size: 12px;
        font-weight: 500;
        display: inline-block;
    }
    
    .actions-card {
        background: white;
        border-radius: 8px;
        padding: 20px;
        border: 1px solid #e9ecef;
    }
    
    .action-btn {
        width: 100%;
        padding: 10px 15px;
        margin-bottom: 10px;
        border-radius: 4px;
        text-decoration: none;
        text-align: center;
        font-size: 14px;
        font-weight: 500;
        display: inline-block;
        border: 1px solid transparent;
    }
    
    .btn-edit {
        background: #ffc107;
        color: #212529;
        border-color: #ffc107;
    }
    
    .btn-delete {
        background: #dc3545;
        color: white;
        border-color: #dc3545;
    }
    
    .action-btn:hover {
        opacity: 0.9;
        text-decoration: none;
        color: inherit;
    }
    
    .products-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
    }
    
    .products-table th,
    .products-table td {
        padding: 10px 12px;
        text-align: left;
        border-bottom: 1px solid #e9ecef;
        font-size: 14px;
    }
    
    .products-table th {
        background: #f8f9fa;
        font-weight: 600;
        color: #333;
    }
    
    .product-name {
        color: #007bff;
        text-decoration: none;
        font-weight: 500;
    }
    
    .product-name:hover {
        text-decoration: underline;
    }
    
    .product-code {
        color: #6c757d;
        font-size: 12px;
    }
    
    .empty-products {
        text-align: center;
        padding: 40px 20px;
        color: #6c757d;
    }
    
    .empty-icon {
        font-size: 32px;
        margin-bottom: 15px;
        color: #dee2e6;
    }
</style>

<!-- Header -->
<div class="page-header">
    <a href="@Url.Action("Index")" class="btn-back">
        <i class="fas fa-arrow-left"></i>
    </a>
    <h1 class="page-title">Chi tiết thương hiệu</h1>
</div>

<div class="content-container">
    <!-- Main Content -->
    <div class="content-main">
        <!-- Basic Info -->
        <div class="info-card">
            <div class="card-header">Thông tin cơ bản</div>
            
            <div class="info-row">
                <span class="info-label">Tên thương hiệu:</span>
                <span class="info-value brand-name">@Model.Name</span>
            </div>
            
            <div class="info-row">
                <span class="info-label">Cửa hàng:</span>
                <span class="info-value shop-name">@Model.Shop.Name</span>
            </div>
            
            <div class="info-row">
                <span class="info-label">Số sản phẩm:</span>
                <span class="info-value">
                    <span class="product-count">@Model.Products.Count sản phẩm</span>
                </span>
            </div>
        </div>
        
        <!-- Products List -->
        @if (Model.Products.Any())
        {
            <div class="info-card">
                <div class="card-header">Danh sách sản phẩm</div>
                
                <table class="products-table">
                    <thead>
                        <tr>
                            <th>Tên sản phẩm</th>
                            <th>Mã sản phẩm</th>
                            <th>Đơn vị</th>
                            <th>Trạng thái</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var product in Model.Products.Take(10))
                        {
                            <tr>
                                <td>
                                    <a href="#" class="product-name">@product.Name</a>
                                </td>
                                <td>
                                    <span class="product-code">@(product.Code ?? "N/A")</span>
                                </td>
                                <td>@product.Unit</td>
                                <td>
                                    @if (product.CanSell && !product.IsDeleted)
                                    {
                                        <span class="badge badge-success">Có thể bán</span>
                                    }
                                    else if (product.IsDeleted)
                                    {
                                        <span class="badge badge-danger">Đã xóa</span>
                                    }
                                    else
                                    {
                                        <span class="badge badge-warning">Ngừng bán</span>
                                    }
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
                
                @if (Model.Products.Count > 10)
                {
                    <div style="margin-top: 15px; text-align: center; color: #6c757d; font-size: 14px;">
                        Và @(Model.Products.Count - 10) sản phẩm khác...
                    </div>
                }
            </div>
        }
        else
        {
            <div class="info-card">
                <div class="card-header">Danh sách sản phẩm</div>
                <div class="empty-products">
                    <div class="empty-icon">
                        <i class="fas fa-box-open"></i>
                    </div>
                    <h5>Chưa có sản phẩm nào</h5>
                    <p>Thương hiệu này chưa có sản phẩm nào được gán.</p>
                </div>
            </div>
        }
    </div>
    
    <!-- Sidebar -->
    <div class="content-sidebar">
        <div class="actions-card">
            <div class="card-header">Thao tác</div>
            
            <a href="@Url.Action("Edit", new { id = Model.BrandId })" class="action-btn btn-edit">
                <i class="fas fa-edit"></i> Sửa thương hiệu
            </a>
            
            <a href="@Url.Action("Delete", new { id = Model.BrandId })" class="action-btn btn-delete">
                <i class="fas fa-trash"></i> Xóa thương hiệu
            </a>
        </div>
    </div>
</div>

<style>
    .badge {
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 11px;
        font-weight: 500;
    }
    
    .badge-success {
        background: #d4edda;
        color: #155724;
    }
    
    .badge-warning {
        background: #fff3cd;
        color: #856404;
    }
    
    .badge-danger {
        background: #f8d7da;
        color: #721c24;
    }
</style>
